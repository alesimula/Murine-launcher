package {
    default_applicable_licenses: ["frameworks_base_license"],
}

android_app {
    name: "SettingsLibMetadataShell",
    platform_apis: true,
    static_libs: [
        "androidx.fragment_fragment-testing",
        "androidx.preference_preference",
    ],
}

android_robolectric_test {
    name: "SettingsLibMetadataTest",
    srcs: ["src/**/*.kt"],
    static_libs: [
        "SettingsLibMetadata",
        "SettingsLibPreference-testutils",
        "androidx.test.ext.junit",
        "kotlin-parcelize-runtime",
        "mockito-robolectric-prebuilt", // mockito deps order matters!
        "mockito-kotlin2",
        "truth",
    ],
    associates: ["SettingsLibMetadata"],
    coverage_libs: ["SettingsLibMetadata"],
    instrumentation_for: "SettingsLibMetadataShell",
    kotlin_plugins: ["kotlin-parcelize-compiler-plugin"],
    upstream: true,
}
